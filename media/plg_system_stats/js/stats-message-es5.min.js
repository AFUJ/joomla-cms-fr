!function(){"use strict";Joomla=window.Joomla||{},function(e,t){var n=function n(s){var a=(void 0===s?{}:s).plugin,o="index.php?option=com_ajax&group=system&plugin="+(void 0===a?"sendStats":a)+"&format=raw",r=t.getElementById("system-message-container");e.request({url:o,headers:{"Content-Type":"application/json"},onSuccess:function(e){try{var s=JSON.parse(e);s&&s.html&&(r.insertAdjacentHTML("beforeend",s.html),r.querySelector(".js-pstats-alert").classList.remove("hidden"),function(e){var n=t.getElementById("system-message-container"),s=n.querySelector(".js-pstats-alert"),a=n.querySelector("#js-pstats-data-details");t.addEventListener("click",(function(e){e.target.classList.contains("js-pstats-btn-details")&&(e.preventDefault(),a.classList.toggle("d-none"))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-always")&&(t.preventDefault(),s.close(),e({plugin:"sendAlways"}))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-once")&&(t.preventDefault(),s.close(),e({plugin:"sendOnce"}))})),t.addEventListener("click",(function(t){t.target.classList.contains("js-pstats-btn-allow-never")&&(t.preventDefault(),s.close(),e({plugin:"sendNever"}))}))}(n))}catch(e){throw new Error(e)}},onError:function(t){e.renderMessages({error:[t.response]})}})};t.addEventListener("DOMContentLoaded",(function(){n()}))}(Joomla,document)}();