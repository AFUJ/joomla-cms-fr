((e,s)=>{const t=()=>{e.removeEventListener("DOMContentLoaded",t);const a=[].slice.call(e.querySelectorAll(".system-counter"));a.length&&a.forEach((t=>{const a=t.getAttribute("data-url");a&&s&&s.request&&"function"==typeof s.request&&s.request({url:a,method:"POST",onSuccess:s=>{let a;try{a=JSON.parse(s)}catch(e){throw new Error("Failed to parse JSON")}if(a.error||!a.success)t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("text-danger"),t.classList.add("icon-remove");else if(a.data){const s=e.createElement("span");s.classList.add("float-end"),s.classList.add("badge"),s.classList.add("bg-warning","text-dark"),s.innerHTML=a.data,t.parentNode.replaceChild(s,t)}else t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("icon-check"),t.classList.add("text-success")},onError:()=>{t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("text-danger"),t.classList.add("icon-remove")}})}))};e.addEventListener("DOMContentLoaded",t)})(document,Joomla);