!function(){"use strict";!function(e,s){e.addEventListener("DOMContentLoaded",(function t(){e.removeEventListener("DOMContentLoaded",t);var n=[].slice.call(e.querySelectorAll(".system-counter"));n.length&&n.forEach((function(t){var n=t.getAttribute("data-url");n&&s&&s.request&&"function"==typeof s.request&&s.request({url:n,method:"POST",onSuccess:function(n){var a;try{a=JSON.parse(n)}catch(e){throw new Error("Failed to parse JSON")}if(a.error||!a.success)t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("text-danger"),t.classList.add("icon-remove");else if(a.data){var c=e.createElement("span");c.classList.add("float-end"),c.classList.add("badge"),c.classList.add("bg-warning","text-dark"),c.innerHTML=s.sanitizeHtml(a.data),t.parentNode.replaceChild(c,t)}else t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("icon-check"),t.classList.add("text-success")},onError:function(){t.classList.remove("icon-spin"),t.classList.remove("icon-spinner"),t.classList.add("text-danger"),t.classList.add("icon-remove")}})}))}))}(document,Joomla)}();