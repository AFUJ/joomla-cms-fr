if(typeof Joomla==="undefined"){var Joomla={}}!function(document,Joomla){"use strict";Joomla.setcollapse=function(url,name,height){if(!document.getElementById("collapse-"+name)){document.getElementById("container-collapse").innerHTML='<div class="collapse fade" id="collapse-'+name+'"><iframe class="iframe" src="'+url+'" height="'+height+'" width="100%"></iframe></div>'}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt){var len=this.length>>>0;var from=Number(arguments[1])||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0){from+=len}for(;from<len;from++){if(from in this&&this[from]===elt){return from}}return-1}}window.jQuery&&function($){function linkedoptions(target,animate){var showfield=true,jsondata=target.data("showon")||[],itemval,condition,fieldName,$fields;for(var j=0,lj=jsondata.length;j<lj;j++){condition=jsondata[j]||{};fieldName=condition.field;$fields=$('[name="'+fieldName+'"], [name="'+fieldName+'[]"]');condition["valid"]=0;$fields.each(function(){var $field=$(this);if(["checkbox","radio"].indexOf($field.attr("type"))!==-1){itemval=$field.prop("checked")?$field.val():""}else{itemval=$field.val()}if(!(typeof itemval==="object")){itemval=JSON.parse('["'+itemval+'"]')}for(var i in itemval){if(condition["values"].indexOf(itemval[i])!==-1){condition["valid"]=1}}});if(condition["op"]===""){if(condition["valid"]===0){showfield=false}}else{if(condition["op"]==="AND"&&condition["valid"]+jsondata[j-1]["valid"]<2){showfield=false}if(condition["op"]==="OR"&&condition["valid"]+jsondata[j-1]["valid"]>0){showfield=true}}}if(animate){showfield?target.slideDown():target.slideUp()}else{target.toggle(showfield)}}function setUpShowon(container){container=container||document;var $showonFields=$(container).find("[data-showon]");for(var is=0,ls=$showonFields.length;is<ls;is++){(function(){var $target=$($showonFields[is]),jsondata=$target.data("showon")||[],field,$fields=$();for(var ij=0,lj=jsondata.length;ij<lj;ij++){field=jsondata[ij]["field"];$fields=$fields.add($('[name="'+field+'"], [name="'+field+'[]"]'))}linkedoptions($target);$fields.on("change",function(){linkedoptions($target,true)})})()}}$(document).ready(function(){setUpShowon();$(document).on("subform-row-add",function(event,row){var $row=$(row),$elements=$row.find("[data-showon]"),baseName=$row.data("baseName"),group=$row.data("group"),search=new RegExp("\\["+baseName+"\\]\\["+baseName+"X\\]","g"),replace="["+baseName+"]["+group+"]",$elm,showon;for(var i=0,l=$elements.length;i<l;i++){$elm=$($elements[i]);showon=$elm.attr("data-showon").replace(search,replace);$elm.attr("data-showon",showon)}setUpShowon(row)})})}(jQuery)}(document,Joomla);