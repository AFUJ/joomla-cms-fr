Joomla=window.Joomla||{},(n=>{n.submitbutton=e=>{if("module.cancel"===e||document.formvalidator.isValid(document.getElementById("module-form"))){n.submitform(e,document.getElementById("module-form"));const s=n.getOptions("module-edit");if(window.self!==window.top){if(window.parent.viewLevels){const e=document.getElementById("jform_position").value,t=document.getElementById("jform_title").value,a=document.querySelector("#jform_assignment").value,i=document.querySelector("#jform_published").value,o=document.querySelector("#jform_access").value,d=window.parent.document.getElementById(`menus-${s.itemId}`),l=window.parent.document.getElementById(`tr-${s.itemId}`),c=window.parent.document.getElementById(`status-${s.itemId}`);window.parent.inMenus=[],window.parent.numMenus=[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).length,[].slice.call(document.querySelectorAll('input[name="jform[assigned][]"]')).forEach((n=>{a>0&&n.checked&&window.parent.inMenus.push(parseInt(n.value,10)),a<0&&(n.checked||window.parent.inMenus.push(parseInt(n.value,10)))})),"-"===a&&(d.innerHTML=`<span class="badge bg-danger">${n.JText._("JNO")}</span>`,l.classList.contains("no")&&0!==l.classList.length||l.classList.add("no")),0===parseInt(a,10)&&(d.innerHTML=`<span class="badge bg-info">${n.JText._("JALL")}</span>`,l.classList.contains("no")&&l.classList.remove("no")),parseInt(a,10)>0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(d.innerHTML=`<span class="badge bg-info">${n.JText._("JALL")}</span>`,(l.classList.contains("no")||0===l.classList.length)&&l.classList.remove("no")):(d.innerHTML=`<span class="badge bg-success">${n.JText._("JYES")}</span>`,l.classList.contains("no")&&l.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(d.innerHTML=`<span class="badge bg-danger">${n.JText._("JNO")}</span>`,l.classList.contains("no")||l.classList.add("no"))),parseInt(a,10)<0&&(window.parent.inMenus.indexOf(window.parent.menuId)>=0&&(window.parent.numMenus===window.parent.inMenus.length?(d.innerHTML=`<span class="badge bg-info">${n.JText._("JALL")}</span>`,l.classList.contains("no")&&l.classList.remove("no")):(d.innerHTML=`<span class="badge bg-success">${n.JText._("JYES")}</span>`,l.classList.contains("no")&&l.classList.remove("no"))),window.parent.inMenus.indexOf(window.parent.menuId)<0&&(d.innerHTML=`<span class="badge bg-danger">${n.JText._("JNO")}</span>`,l.classList.contains("no")&&0!==l.classList.length||l.classList.add("no"))),1===parseInt(i,10)&&(c.innerHTML=`<span class="badge bg-success">${n.JText._("JYES")}</span>`,l.classList.contains("unpublished")&&l.classList.remove("unpublished")),0===parseInt(i,10)&&(c.innerHTML=`<span class="badge bg-danger">${n.JText._("JNO")}</span>`,l.classList.contains("unpublished")&&0!==l.classList.length||l.classList.add("unpublished")),-2===parseInt(i,10)&&(c.innerHTML=`<span class="badge bg-secondary">${n.JText._("JTRASHED")}</span>`,l.classList.contains("unpublished")&&0!==l.classList.length||l.classList.add("unpublished")),document.formvalidator.isValid(document.getElementById("module-form"))&&(window.parent.document.querySelector(`#title-${s.itemId}`).innerText=t,window.parent.document.querySelector(`#position-${s.itemId}`).innerText=e,window.parent.document.querySelector(`#access-${s.itemId}`).innerHTML=window.parent.viewLevels[o])}"module.apply"!==e&&window.parent.Joomla.Modal.getCurrent().close()}}}})(Joomla);