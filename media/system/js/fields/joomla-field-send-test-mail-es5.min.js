!function(){"use strict";function e(t){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e(t)}function t(e,r){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,r)}function r(e,o,n){return r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,r,o){var n=[null];n.push.apply(n,r);var s=new(Function.bind.apply(e,n));return o&&t(s,o.prototype),s},r.apply(null,arguments)}function o(n){var s="function"==typeof Map?new Map:void 0;return o=function(o){if(null===o||(n=o,-1===Function.toString.call(n).indexOf("[native code]")))return o;var n;if("function"!=typeof o)throw new TypeError("Super expression must either be null or a function");if(void 0!==s){if(s.has(o))return s.get(o);s.set(o,u)}function u(){return r(o,arguments,e(this).constructor)}return u.prototype=Object.create(o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),t(u,o)},o(n)}!function(e,r){var n=function(e){var o,n;function s(){var t;if(t=e.call(this)||this,!r)throw new Error("Joomla API is not properly initiated");if(!t.getAttribute("uri"))throw new Error("No valid url for validation");return t}n=e,(o=s).prototype=Object.create(n.prototype),o.prototype.constructor=o,t(o,n);var u=s.prototype;return u.connectedCallback=function(){var e=this,t=document.getElementById("sendtestmail");t&&t.addEventListener("click",(function(){e.sendTestMail(e)}))},u.sendTestMail=function(){var e={smtpauth:document.getElementById("jform_smtpauth1").checked?1:0,smtpuser:this.querySelector('[name="jform[smtpuser]"]').value,smtphost:this.querySelector('[name="jform[smtphost]"]').value,smtpsecure:this.querySelector('[name="jform[smtpsecure]"]').value,smtpport:this.querySelector('[name="jform[smtpport]"]').value,mailfrom:this.querySelector('[name="jform[mailfrom]"]').value,fromname:this.querySelector('[name="jform[fromname]"]').value,mailer:this.querySelector('[name="jform[mailer]"]').value,mailonline:document.getElementById("jform_mailonline1").checked?1:0},t=this.querySelector('[name="jform[smtppass]"]');!1===t.disabled&&(e.smtppass=t.value),r.removeMessages(),r.request({url:this.getAttribute("uri"),method:"POST",data:JSON.stringify(e),perform:!0,headers:{"Content-Type":"application/json"},onSuccess:function(e){var t;try{t=JSON.parse(e)}catch(e){console.error(e)}"object"==typeof t.messages&&null!==t.messages&&r.renderMessages(t.messages),document.body.scrollIntoView({behavior:"smooth"})},onError:function(e){r.renderMessages(r.ajaxErrorsMessages(e)),document.body.scrollIntoView({behavior:"smooth"})}})},s}(o(HTMLElement));e.define("joomla-field-send-test-mail",n)}(customElements,Joomla)}();