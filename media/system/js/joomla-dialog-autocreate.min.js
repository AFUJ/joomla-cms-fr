import JoomlaDialog from"joomla.dialog";const delegateSelector="[data-joomla-dialog]",configDataAttr="joomlaDialog",configCacheFlag="joomlaDialogCache";document.addEventListener("click",(o=>{const a=o.target.closest(delegateSelector);if(!a)return;o.preventDefault();const e=!!a.dataset[configCacheFlag];if(e&&a.JoomlaDialogInstance)return Joomla.Modal.setCurrent(a.JoomlaDialogInstance),void a.JoomlaDialogInstance.show();const l=a.dataset.joomlaDialog?JSON.parse(a.dataset.joomlaDialog):{};"A"===a.nodeName&&(l.popupType||(l.popupType=a.hash?"inline":"iframe"),l.src||"iframe"!==l.popupType?l.src||"inline"!==l.popupType||(l.src=a.hash):l.src=a.href),delete l.popupTemplate;const t=new JoomlaDialog(l);e&&(a.JoomlaDialogInstance=t),t.addEventListener("joomla-dialog:close",(()=>{Joomla.Modal.setCurrent(null),e||t.destroy()})),Joomla.Modal.setCurrent(t),t.show()}));