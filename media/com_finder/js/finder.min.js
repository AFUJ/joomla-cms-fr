((e,t,r,s)=>{if(!t)throw new Error("core.js was not properly initialised");const o=({target:e})=>{e.value.length>1&&(e.awesomplete.list=[],t.request({url:`${t.getOptions("finder-search").url}&q=${e.value}`,method:"GET",data:{q:e.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:t=>{const r=JSON.parse(t);"[object Array]"===Object.prototype.toString.call(r.suggestions)&&(e.awesomplete.list=r.suggestions)},onError:e=>{e.status>0&&t.renderMessages(t.ajaxErrorsMessages(e))}}))},a=e=>{e.stopPropagation();const t=e.target.querySelector(".js-finder-advanced");if(t){[].slice.call(t.querySelectorAll("select")).forEach((e=>{e.value||e.setAttribute("disabled","disabled")}))}},n=e=>{const t=e.target.closest("form");t&&t.submit()},l=()=>{[].slice.call(s.querySelectorAll(".js-finder-search-query")).forEach((r=>{if(t.getOptions("finder-search")){r.awesomplete=new e(r),r.addEventListener("input",o);r.closest("form").querySelector(".js-finder-advanced")||r.addEventListener("awesomplete-selectcomplete",n)}}));[].slice.call(s.querySelectorAll(".js-finder-searchform")).forEach((e=>{e.addEventListener("submit",a)})),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l)})(window.Awesomplete,window.Joomla,window,document);