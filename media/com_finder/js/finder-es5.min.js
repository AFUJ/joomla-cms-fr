!function(){"use strict";!function(e,t,r,n){if(!t)throw new Error("core.js was not properly initialised");var o=function(e){var r=e.target;r.value.length>1&&(r.awesomplete.list=[],t.request({url:t.getOptions("finder-search").url+"&q="+r.value,method:"GET",data:{q:r.value},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(e){var t=JSON.parse(e);"[object Array]"===Object.prototype.toString.call(t.suggestions)&&(r.awesomplete.list=t.suggestions)},onError:function(e){e.status>0&&t.renderMessages(t.ajaxErrorsMessages(e))}}))},s=function(e){e.stopPropagation();var t=e.target.querySelector(".js-finder-advanced");t&&[].slice.call(t.querySelectorAll("select")).forEach((function(e){e.value||e.setAttribute("disabled","disabled")}))},a=function(e){var t=e.target.closest("form");t&&t.submit()};n.addEventListener("DOMContentLoaded",(function r(){[].slice.call(n.querySelectorAll(".js-finder-search-query")).forEach((function(r){t.getOptions("finder-search")&&(r.awesomplete=new e(r),r.addEventListener("input",o),r.closest("form").querySelector(".js-finder-advanced")||r.addEventListener("awesomplete-selectcomplete",a))})),[].slice.call(n.querySelectorAll(".js-finder-searchform")).forEach((function(e){e.addEventListener("submit",s)})),n.removeEventListener("DOMContentLoaded",r)}))}(window.Awesomplete,window.Joomla,window,document)}();