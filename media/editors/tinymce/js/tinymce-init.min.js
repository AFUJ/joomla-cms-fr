(function(tinyMCE,Joomla,$,window,document){"use strict";window.getSize=window.getSize||function(){return{x:$(window).width(),y:$(window).height()}};window.jInsertEditorText=function(text,editor){tinyMCE.activeEditor.execCommand("mceInsertContent",false,text)};var JoomlaTinyMCE={setupEditors:function(target){target=target||document;var pluginOptions=Joomla.getOptions?Joomla.getOptions("plg_editor_tinymce",{}):Joomla.optionsStorage.plg_editor_tinymce||{},$editors=$(target).find(".joomla-editor-tinymce");for(var i=0,l=$editors.length;i<l;i++){this.setupEditor($editors[i],pluginOptions)}},setupEditor:function(element,pluginOptions){var name=element?$(element).attr("name").replace(/\[\]|\]/g,"").split("[").pop():"default",tinyMCEOptions=pluginOptions?pluginOptions.tinyMCE||{}:{},defaultOptions=tinyMCEOptions["default"]||{},options=tinyMCEOptions[name]?tinyMCEOptions[name]:defaultOptions;options=jQuery.extend({},options);if(element){options.selector=null;options.target=element}if(options.setupCallbacString&&!options.setup){options.setup=new Function("editor",options.setupCallbacString)}tinyMCE.init(options)}};Joomla.JoomlaTinyMCE=JoomlaTinyMCE;$(document).ready(function(){Joomla.JoomlaTinyMCE.setupEditors();$(document).on("subform-row-add",function(event,row){Joomla.JoomlaTinyMCE.setupEditors(row)})})})(tinyMCE,Joomla,jQuery,window,document);