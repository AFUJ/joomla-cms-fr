!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function c(a,b,c){if(a.eatSpace())return null;var d=a.peek();if("/"==d){if(a.match("//"))return a.skipToEnd(),"comment";if(a.match("/*"))return b.tokenize.push(f),f(a,b);if(a.match(q))return"string-2"}if(k.indexOf(d)>-1)return a.next(),"operator";if(l.indexOf(d)>-1)return a.match(m),"punctuation";if('"'==d||"'"==d){a.next();var r=e(d);return b.tokenize.push(r),r(a,b)}if(a.match(n))return"number";if(a.match(p))return"property";if(a.match(o)){var s=a.current();return g.hasOwnProperty(s)?(h.hasOwnProperty(s)&&(b.prev="define"),"keyword"):j.hasOwnProperty(s)?"variable-2":i.hasOwnProperty(s)?"atom":"define"==c?"def":"variable"}return a.next(),null}function d(){var a=0;return function(b,d,e){var f=c(b,d,e);if("punctuation"==f)if("("==b.current())++a;else if(")"==b.current()){if(0==a)return b.backUp(1),d.tokenize.pop(),d.tokenize[d.tokenize.length-1](b,d);--a}return f}}function e(a){return function(b,c){for(var e,f=!1;e=b.next();)if(f){if("("==e)return c.tokenize.push(d()),"string";f=!1}else{if(e==a)break;f="\\"==e}return c.tokenize.pop(),"string"}}function f(a,b){return a.match(/^(?:[^*]|\*(?!\/))*/),a.match("*/")&&b.tokenize.pop(),"comment"}var g=b(["var","let","class","deinit","enum","extension","func","import","init","protocol","static","struct","subscript","typealias","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","weak","willSet"]),h=b(["var","let","class","enum","extension","func","import","protocol","struct","typealias","dynamicType","for"]),i=b(["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"]),j=b(["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"]),k="+-/*%=|&<>#",l=";,.(){}[]",m=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,n=/^-?(?:(?:[\d_]+\.[_\d]*|\.[_\d]+|0o[0-7_\.]+|0b[01_\.]+)(?:e-?[\d_]+)?|0x[\d_a-f\.]+(?:p-?[\d_]+)?)/i,o=/^[_A-Za-z$][_A-Za-z$0-9]*/,p=/^[@\.][_A-Za-z$][_A-Za-z$0-9]*/,q=/^\/(?!\s)(?:\/\/)?(?:\\.|[^\/])+\//;a.defineMode("swift",function(){return{startState:function(){return{prev:null,tokenize:[]}},token:function(a,b){var d=b.prev;b.prev=null;var e=b.tokenize[b.tokenize.length-1]||c,f=e(a,b,d);return f&&"comment"!=f?b.prev||(b.prev=f):b.prev=d,f},lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/"}}),a.defineMIME("text/x-swift","swift")});