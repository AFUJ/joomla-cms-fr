(t=>{const e=()=>{const e=Joomla.getOptions("js-privacy-check"),n=e.plg_quickicon_privacycheck_ajax_url,a=e.plg_quickicon_privacycheck_url,s=e.plg_quickicon_privacycheck_text,c=t.getElementById("plg_quickicon_privacycheck"),r=c.querySelector("span.j-links-link");Joomla.request({url:n,method:"GET",data:"",perform:!0,onSuccess:e=>{try{const n=JSON.parse(e);if(n.data.number_urgent_requests){const e=t.createElement("span");e.classList.add("badge","text-dark","bg-light"),e.textContent=n.data.number_urgent_requests,r.textContent=`${s.REQUESTFOUND} `,r.appendChild(e),c.classList.add("danger");const o=t.createElement("span");o.classList.add("label","label-important"),o.textContent=`${s.REQUESTFOUND_MESSAGE.replace("%s",n.data.number_urgent_requests)} `;const l=t.createElement("button");l.classList.add("btn","btn-primary","btn-sm"),l.setAttribute("onclick",`document.location='${a}'`),l.textContent=s.REQUESTFOUND_BUTTON;const d=t.createElement("div");d.classList.add("alert","alert-error","alert-joomlaupdate"),d.appendChild(o),d.appendChild(l);const i=t.querySelector("#system-message-container");i.insertBefore(d,i.firstChild)}else c.classList.add("success"),r.textContent=s.NOREQUEST}catch(t){c.classList.add("danger"),r.textContent=s.ERROR}},onError:()=>{c.classList.add("danger"),r.textContent=s.ERROR}})};window.addEventListener("load",(()=>{setTimeout(e,360)}))})(document);